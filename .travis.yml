language: csharp
os: linux
dist: trusty
sudo: required
dotnet: 2.0.0
mono: none
env: DOTNETCORE=1
services:
  - docker
addons:
  apt:
    packages:
      - docker-ce

install: 
  - chmod +x ./scripts/install-dependencies.sh
  - cd scripts && ./install-dependencies.sh

script:
  - chmod +x ./deploy-envs.sh  
  - chmod +x ./scripts/build.sh
  - chmod +x ./scripts/deploy.sh
  - ./build.sh
  - if [ "$TRAVIS_BRANCH" == "master" ]; then ./deploy.sh; fi